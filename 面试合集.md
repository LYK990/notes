# vue3

2.x 当 v-if 与 v-for 一起使用时，v-for 具有比 v-if 更高的优先级。

3.x当 v-if 与 v-for 一起使用时，v-if 具有比 v-for 更高的优先级。

# 计算机网络

## TCP三次握手和四次挥手

#### 三次握手

一个文件通常会被拆分为很多数据包来进行传输，而数据包在传输过程中又有很大概率丢失或者出错。TCP的头部包含源端口号、目的端口号、序列号等，TCP是传输层协议。全双工通信，三次握手是建立连接时的准备工作，其实就是把自身的序列号发送给对方（**syn~ack~ack**），看对方能不能收到。最开始服务器监听某个端口，客户端发送syn包，可以建立连接之后服务端返回syn+ack包，客户端再发送ack包。

tcp连接会建立一个发送缓冲区，第一个自己的序列号是0，后面的每个字节的序列号就会增加1，

- 发送数据时就会从发送缓冲区取一部分数据组成发送报文，在tcp协议头中会附带序列号和长度。
- 接受端在收到数据后需要回复确认报文，确认报文ack=接受序列号+长度，也就是下一包（**客户端**）需要发送的起始序列号
- 发送端可以发送一次连续的多包数据。接收端只需要回复一次ack就可以了。
- 这样发送端可以把一系列的数据切割成碎片发送给服务端
- 服务端根据序号和长度在接受后重构出来完整的数据
- 数据包丢失，客户端可以重传

#### 四次挥手

客户端和服务端都可以先发起关闭请求

- 客户端向服务端发起关闭请求，需要向服务端发送fin包，客户端禁止终止等待1状态， （第一次挥手）
- 服务端发送ack包，表示服务端进入了关闭等待状态
- 客户端进入终止等待2状态，（第二次挥手）
- 服务端发送fin包进入最后确认状态 （第三次挥手）
- 客户端收到之后回复ack包，进入超时等待状态（为了保证服务端收到ack包），经过超时时间之后关闭连接，而服务端收到ack包后立即关闭连接（第四次挥手）
- 超时等待是为了保证服务端已经收到ack包，假设客户端发送了最后一包ack包后就释放了连接，一旦ack包在网络中丢失，服务端将一直停留在最后确认状态。如果客户端发哦是那个最后一包ack包后，等待一段时间，这时服务端因为没有收到ack包，会 重发fin包。客户端会响应这个ack包并刷新超时时间。

#### TCP为什么不能两次握手

两次握手只能保证客户端的序列号成功被服务端接收，而服务端是无法确认自己的序列号是否被客户端成功接收。所以是不行的

第一次发送syn包时，如果丢了，客户端发第二次，服务端返回syn+ack，此时建立连接，但是如果第一次恢复了。服务端就会误以为又要建立连接了。此时客户端认为时两次连接，而服务端任务时一次连接，造成状态不一致。

第三次握手，如果客户段没有收到最后的syn包，就不回认为连接成功

## UDP和TCP的对比

只要在网络层使用ip协议，就可以接入到使用tcp/ip体系的网络中，

真正通信的实体是主机中的应用进程互相通信。tcp/ip的运输层使用端口号来区分不同的应用进程

UDP： 

- 无连接，（在传输前不需要建立连接，通信双方可随时发送数据）
- 支持一对一，一对多和多对一、多对多交互通信（单播、广播、多播）
- 对应用层交付的报文直接打包
- 尽最大的努力交付，也就是不可靠；不使用流量控制和拥塞控制
- 首部开销小，仅8字节

TCP：

- 面向连接
- 每一条TCP连接只能有两个端点EP，只能是一对一通信
- 面向字节流
- 可靠传输、使用流量控制和拥塞控制
- 首部最小20字节，最大60字节。
