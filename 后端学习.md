# [韩顺平 零基础30天学会Java](https://www.bilibili.com/video/BV1fh411y7R8?p=1)

## Java基础一

JAVA SSM框架是指spring+springMVC+MyBatis的简称

- Spring(轻量级的容器框架)
  - Spring就像是整个项目中装配JavaBean的大工厂，在配置文件中可以指定使用特定的参数去调用实体类的构造方法来实例化对象。
  - Spring的核心思想是IoC（控制反转），即不再需要程序员去显式地new一个对象，而是让Spring框架帮你来完成这一切；
  - 而重要功能Aop（面向切面编程）能够将那些与业务无关，却为业务模块所共同调用的逻辑或责任（例如事务处理、日志管理、权限控制等）封装起来，在系统的业务流程代码中需要的位置切入这些通用功能代码，以便于减少系统的重复代码，有利于项目未来的可拓展性和可维护性。
- Spring MVC (分层的web开发框架)
  - SpringMVC在项目中拦截用户请求，它的核心Servlet即DispatcherServlet承担中介或是前台这样的职责，将用户请求通过HandlerMapping去匹配Controller，Controller就是具体对应请求所执行的操作，最终把Model层执行结果返回给用户。SpringMVC相当于SSH框架中struts。
- mybatis 持久化框架
  - MyBatis是对JDBC的封装，它让数据库底层操作变的透明，属于半自动的ORM(对象关系映射)框架。
  - mybatis的操作都是围绕一个sqlSessionFactory实例展开的。mybatis通过配置文件关联到各实体类的Mapper文件，Mapper文件中配置了每个类对数据库所需进行的sql语句映射。在每次与数据库交互时，通过sqlSessionFactory拿到一个sqlSession，再执行sql命令。

java特点

- 面向对象

- java语言是健壮的，java的强类型机制、异常处理、垃圾的自动收集是java程序健壮性的重要保证

- java语言是跨平台的

  - 一个编译好的.class文件可以在多个系统下运行，这种特性称为跨平台

  - 因为有了jvm（Java 虚拟机），同一个java程序在不同的操作系统都可以执行，这样就实现了java程序的跨平台性

  - 有的 java 程序会首先被编译为.class 的类文件，这种类文件可以在虚拟机上执行，也就是说 class 并不直接与机器的操

    作系统相对应，而是经过虚拟机间接与操作系统交互，由虚拟机将程序解释给本地系统执行

- java语言是解释型的

  - 解释性语言：JavaScript、php、java，编译性语言：c/c++
  - 解释性语言，编译后的代码，不能直接被机器执行，需要解释器来执行，编译型语言，编译后的代码，可以直接被机器执行，c/c++

jdk

- java开发工具包
- jdk是提供给java开发人员使用的，其中包含了java'的开发工具，也包括了jre

jre

- java运行环境   jre=jvm+java的核心类库
- 包括java虚拟机和java程序所需的核心类库等如果想要运行一个开发好的java程序，计算机只需要安装jre即可

通过运行工具java.exe对字节码文件进行执行，本质就是.class装在到jvm执行

java数据类型

- 基本数据类型

  - 数值型
    - 整数型，byte[1]、short[2]，int[4],long[8]
    - 浮点小数类型：float[4]，double[8]
  - 字符型
    - char[2],'a'
  - 布尔型
    - boolean[1],存放true,false
- 引用数据类型

  - 类
  - 接口
  - 数组


java api文档

字符串类型 

- char

基本数据转换

- 有多种类型的数据混合运算时，系统首先自动将所有数据转换成容量最大的那种数据类型，然后在进行计算
- 当我们把精度大的数据类型赋值给精度小的数据类型时，就会报错，反之就会自动进行类型转换
- byte，short和char之间不会相互自动转换

方法重载（OverLoad）

System.out.printLn();	out是PrintStream类型

OverLoad01.java

- 重载的好处
  - 减轻了起名的麻烦
  - 减轻了记名的麻烦

## Java基础二

包的三大作用

- 区分相同名字的类
- 当类很多时，可以很好的管理类
- 控制访问范围

包基本语法

- package关键字，表示打包
- com.hspedu:表示包名

方法重写

- 子类的方法的参数，方法名称，要和父类方法的参数，方法名称完全一样
- 子类方法的返回类型和父类方法返回类型一样，或者时父类返回类型的子类
  - 比如父类返回类型时Object，子类方法返回类型时String
- 子类方法不能缩小父类方法的访问权限

多态（前提是两个对象存在继承关系）

- 向上转型
  - 父类的引用指向了子类的对象（向上转型）
  - 父类类型  引用名 = new 子类类型
  - 编译类型看左边，运行类型看右边

- 向下转型
  - 子类类型 引用名 = （子类类型）父类引用
  - 只能强转父类的引用，不能强转父类的对象
  - 要求父类的引用必须指向的是当前目标类型的对象
  - 可以调用子类类型中所有的成员

java动态绑定机制 

- 当调用对象方法的时候，该方法会和该对象的内存地址/运行类型绑定
- 当调用对象属性时，没有动态绑定机制，哪里声明，哪里使用



## Java进阶

代码块

- 相当于另外一种形式的构造器（对构造器的补充机制），可以做初始化的操作
- 如果多个构造器中都有重复的语句，可以抽取到初始化块中，提高代码的重用性

抽象方法

- 抽象方法就是没有实现的方法
- 没有实现就是指没有方法体
- 当一个类中存在抽象方法时，需要将该类声明为abstract类

# [Java项目《谷粒商城》](https://www.bilibili.com/video/BV1np4y1C7Yf?p=1&vd_source=ad69edc9a457e7180dde2d7baf02ad26)

Spring boot 是 Spring 的一套快速配置脚手架，可以基于spring boot 快速开发单个微服务，Spring Cloud是一个基于Spring Boot实现的云应用开发工具；Spring boot专注于快速、方便集成的单个个体，Spring Cloud是关注全局的服务治理框架；spring boot使用了默认大于配置的理念，很多集成方案已经帮你选择好了，能不配置就不配置，Spring Cloud很大的一部分是基于Spring boot来实现。

Spring boot可以离开Spring Cloud独立使用开发项目，但是Spring Cloud离不开Spring boot，属于依赖的关系。

> spring -> spring boot > spring cloud 这样的关系。

项目技术&特色

- 前后端分离开发，并开发基于vue的后台管理系统
- SpringClound全新的解决方案
- 应用监控、限流、网关、熔断降级等分布式方案，全方位设计
- 透彻讲解分布式事务、分布式锁等分布式系统的难点
- 分析高并发场景的编码方式，线程池，异步编排等使用
- 压力测试与性能优化
- 各种集群技术的区别以及使用
- ci/cd使用

## 分布式基础

**微服务**

- 每个小服务运行在自己的进程中，并使用轻量级机制通信，通常是使用http api，这些服务围绕业务能力构建，完全自动化部署机制独立部署。这些服务使用不同的编程语言书写，使用不同的数据存储技术，保持最低限度的集中式管理

**集群&分布式&节点**

- 集群是个物理形态，分布式是个工作方式，分布式系统是若干独立计算机的集合

- 分布式式指将不同的业务分布在不同的地方

- 集群是将几台服务器几种在一起，实现同一业务
- 分布式中的每一个节点，都可以做集群。而集群并不一定就是分布式的

- 节点：集群中的一个服务器

**远程调用**

在分布式系统中，各个服务可能处于不同主机，但是服务之前不可避免的需要互相调用，我们称为远程调用

springClound中使用http+json的方式完成远程调用 （json在任意平台都可以使用，跨平台性）

**配置中心**

每一个服务最终都有大量的配置，并且每个服务都可能部署在多个机器上，我们经常需要变更配置，我们可以让每个服务在配置中心获取自己的配置

配置中心用来集中管理微服务的配置信息

**服务熔断&服务降级**

在微服务架构中，微服务之间通过网络进行通信，存在相互依赖，当其中一个服务不可用时，有可能造成雪崩效应。要防止这样的情况，必须要有容错机制来保护服务

- 服务熔断：设置服务的超时，当被调用的服务经常失败到达某个阈值，我们可以开启断路保护机制，后来的请求不再去调用这个服务，本地直接返回默认的数据
- 服务降级：在运维期间，当系统处于高峰期，系统资源紧张，可以让非核心业务降级运行。降级：某些服务不处理，或者简单处理[抛异常、返回null、调用mock数据、调用fallback逻辑]

**API网关**

在微服务架构中， API Gateway 作为整体架构的重要组件，抽象了微服务中都需要的公共功能，同时提供了客户端**负**载均衡，服务自动熔断，灰度发布，统一认证，限流流控，日志统计等丰富的功能，

**vmware虚拟机网络配置**

。**NAT也叫网络地址转换，通常它的名称为VMnet8，通过nat的连接方式可以使得虚拟机和真实机的网卡在不同的网段中，从而实现联网。而bridge也叫桥接,通常它的名称为VMnet0，使用桥接的方式使得自己的虚拟机和自己的真实机网卡在同一个网段，从而实现联网**

```shell

DEVICE=eth0
BOOTPROTO=static
HWADDR=00:0C:29:25:ED:E6
IPV6INIT=yes
NM_CONTROLLED=yes
ONBOOT=yes
TYPE=Ethernet
UUID=7a47775a-8bca-4daf-80b4-965da12756a8
IPADDR=192.168.200.3
NETMASK=255.255.255.0

GATEWAY=192.168.200.2

# 没有此文件的话需要先创建
sudo touch /etc/sysconfig/network-scripts/ifcfg-eth0
sudo vi /etc/sysconfig/network-scripts/ifcfg-eth0
                    
```

 项目

renren-fast-vue

代码生成器。

#  Java项目《苍穹外卖》

## 项目基础

Entity： 实体，通常与数据库中的表对应

DTO：数据传输对象，通常用于程序中各层之间传递数据

VO：视图对象，为前端展示数据提供的对象

POJO：普通JAVA对象，只有属性和对应的getter和setter

# Java后端

## Java基础

- 抽象等级	
  - 机器语言
  - 汇编语言
  - 高级语言
- 程序设计方法
  - 面向过程·
    - c
  - 面向对象
    - java、C++、python、c#、JavaScript、php
- 程序执行方式
  - 解释型语言
    - JavaScript、python、php
  - 编译型语言
    - c、c++
  - 混合型语言
    - Java、c#
- 运行时结构能否改变
  - 动态语言
    - python、php、JavaScript
  - 静态语言
    - java、c、c++、c#
- 变量是否指明类型
  - 强类型语言
    - java、c、c++
  - 弱类型语言
    - JavaScript、python、php

计算机存储单位，最小单位是bit（位），1位可以存储0或者1

强制类型转换

- 当把存储范围大的值，赋值给存储范围小的变量时，就必须进行强制类型转换
- 可能会溢出或损失精度，
- 溢出：发生了截断，，损失精度：小数点后位数减少



在Java中，数组的大小是固定的，**一旦数组被创建并分配了内存空间，就不能再改变它的大小**。 如果你想在运行时动态地改变数组的大小，你可以使用Java集合类中的一些类，如ArrayList或LinkedList。 这些类提供了一些方法来动态地添加或删除元素，因此它们的大小可以在运行时改变。数组的元素是连续存储的，即数组需要在内存中开辟一整块连续的存储空间

jvm运行时分为几个部分，

- 方法区
  - 存储加载的类信息，常量、静态变量等
- 堆
  - 存储程序员通过new（创建对象）申请的内存
- java虚拟机栈
  - 存储方法中的局部变量等信息
- 本地方法栈
  - 存储调用的本地方法（c的函数库）的局部变量等信息

- 程序计数器
  - 存储每一个线程下一条要执行的指令



如果class前面有public ，要求java文件名必须和class后面的类名相同（包括单词和大小写），一个java文件只能有一个public的类

可变参数

形参的类型可以确定，但是形参的个数不确定，那么可以考虑使用可变参数。

可变参数

- 一个方法最多只能有一个可变参数
- 如果一个方法包含可变参数，那么可变参数必须是形参列表的最后一个
- 在声明它的方法中，可变参数当成数组使用

重载

- 先找最匹配的
- 再找最兼容的

当在子类重写父类方法的方法体中，想要继续执行父类被重写方法的方法体时，可以通过"super.父类被重写的方法名()"

super.showName()

多态

- 编译时类型和运行时类型不一致
  - 编译时，这个变量是父类的类型。它可以，也只能调用父类中声明的方法
  - 运行时，这个变量是子类的类型，所以他会执行子类重写的方法体
- 子类重写了父类的方法，通过父类的变量调用重写的方法时，执行的时子类重写后的代码
- 对象的本质类型时子类的类型，只是编译器在编译时，把他看作父类的类型或者把它当成父类的类型来检查
- 代码更灵活，功能更强大

向上转型

- 自动类型转换
  - 当把子类对象赋值给父类的变量时，在编译时会自动类型提升位父类的类型
- 向下转型
  - 如果需要调用子类扩展的方法时,必须进行向下转型,通过强制类型转换完成,这样才能通过编译.
- 对象的本质类型从头到尾都没有变,只是骗编译器的 

成员变量没有多态

虚方法

- 在编译阶段和类加载阶段都不能确定方法的调用入口地址,在运行阶段才能确定的方法,即可能被重写的方法

- 凡是可以被子类重写的方法,都叫做虚方法
- 不能重写的方法有 private、static等

构造器

 this()调用本类的无参构造

this(实参列表):调用本类的有参构造

构造器之间不能出现递归调用

native 表示本地方法,调用的是c语言的本地系统的方法,即它的方法体在c中

final 表示这个类不能被继承,即没有子类

在java中,所有类都有一个公共的父类,那就是java.lang.Object类,被称为java的根父类

```js
1 public class MyClass{
2       // ...
3 }
4 
5 等价于
6 public class MyClass extends Object{
7     ...
8 }

```

java中规定,object[]数组可以接受任意类型的对象数组,int[] char[]等,他们之间是不能互相转换,他们和Object之间也不能hu'xiang

java的类都是直接或者间接的继承Object类,如果一个类名后面没有写extend父类,那么表示它直接继承Object,如果后面写了extend 父类,表示间接继承了Object

静态代码块的作用:

- 给静态变量初始化

- 在类加载后对类进行初始化时执行,肯定比new早.类要先初始化,才能new对象
- 每一个类只会执行一次
- 类初始化代码只执行一次

静态的类变量和静态的方法可以在本类的任意方法、代码块、构造器中直接访问。

非静态的实例变量和非静态的方法只能在本类的非静态的方法、非静态代码块、构造器中直接访问。

即: 

- 静态直接访问静态，可以
- 非静态直接访问非静态，可以
- 非静态直接访问静态，可以
- 静态直接访问非静态，不可以

enum声明的枚举类型,不能用extends继承别的类,他有自己的固定的默认的直接父类,java.lang.Enum

java是面向对象的语言，但是java不i是纯面向对象语言，因为java保留了c语言的8种基本数据类型和void，这些类型不属于面向对象

抽象类 

接口的特点

- 接口本身不能创建对象，只能创建接口的实现类对象，接口类型的变量可以与实现类的对象构成多态引用
- 类可以实现接口，而且支持多实现
- 接口与接口之间也可以继承，而且是多继承
- 实现类实现接口时，必须实现接口的所有抽象方法，如果实现类没有实现接口的抽象方法，那么实现类就要声明为抽象类
- 实现类可以选择重写接口的默认方法



匿名内部类

匿名内部类也就是没有名字的内部类

正因为没有名字，所以匿名内部类只能使用一次，它通常用来简化代码编写

但使用匿名内部类还有个前提条件：必须继承一个父类或实现一个接口

注解

注解可以给程序添加一些描述性、辅助性的信息

线程调度

- 分时调度
  - 所有线程轮流使用CPU的使用权，平均分配给每个线程占用cpu的时间
- 抢占式调度
  - 有限让优先级高的线程使用cpu，如果线程的优先级相同，那么会随机一个，java使用的抢占式调度
  - 一边打游戏，一边听歌看电影，，感觉这些程序是同时运行
    - 实际上，cpu使用抢占式调度模式在多个线程之间进行着高速的切换，对于cpu的一个核而言，某一时刻，只能执行一个线程，而cpu的多个线程间切换速度相对我们的感觉要快
    - 多线程程序并不能提高程序的运行速度，但是能够提高程序运行效率，让cpu的使用率更高

java中开启另一个线程的方式，一共有四种

- 继承Thread类
- 实现Runnable接口
- 实现Callable接口
- 线程池

为了保证每个线程都能正常执行原子操作，java引入了线程同步机制，在任何时候，最多允许一个线程拥有同步锁，谁拿到锁就进入代码块，其他的线程就只能在外等着

同步机制的原理

同步机制的原理，就相当于给某段代码加锁，任何线程想要执行这段代码，都要先获得锁，称他为同步锁

哪个线程获得了同步锁对象之后，同步锁对象就会记录这个线程的ID，这样其他线程就只能等待了，除非或者线程释放了锁对象，其他线程才能重新获得/占用同步锁对象

等待唤醒机制

list接口的实现类

java网络编程

inetAddress

socket，两台机器间通信的端点，网络通信其实就是socket间的通信

- 流套接字：使用TCP提供可依赖的字节流服务
  - serversocket：此类实现tcp服务套接字，服务器套接字等待请求通过网络传入
  - socket：此类实现客户端套接字，套接字是两台机器间的端点
- 数据套接字：使用udp提供尽力而为的数据报服务

类在内存中完整的生命周期：加载--使用--卸载

当程序主动使用某个类时，如果该类还未被加载到内存中，系统会通过加载、连接、初始化三个步骤对该类进行初始化，如果没有意外，jvm将连续完成这三个步骤，所以有时也把这三个步骤统称为类加载

Lambda 表达式，也可称为闭包，它是推动 Java 8 发布的最重要新特性。

Lambda 允许把函数作为一个方法的参数（函数作为参数传递进方法中）。

使用 Lambda 表达式可以使代码变的更加简洁紧凑。

# 数据库

把数据写入到硬盘上的文件中，当然可以实现持久化的目标，但是不利于后期的检索和管理等

sql语言是结构化语言，

mysql8.0 command line client  命令行界面，，默认root用户  ，本机

```shell
mysql -h localhost -P 3306 -u root -p  # 连接本机数据库
show databbases;   # 需加上英文分号
net stop mysql180 # 停止mysql服务
```

导出数据库 

转储SQL文件  -》结构和数据

SQL语句

sql分类

- DDL语句
  - 数据定义语句   创建 create  修改 alter 删除 drop等
- DML语句
  - 数据操作语句 增 insert  删 delete 改update 查select
-  DCL语句
  - 数据控制语句  grant commit rollback等

函数

- 系统预定义函数，可以直接调用
  - 单行函数
  - 多行函数、聚合函数、分组函数
- 用户自定义函数，需要自己生命，然后才能使用

 关联查询/联合查询/多表查询

DDL语句

约束

- 为了保证数据的完整性，数据的完整性是指数据的精确性和可靠性。它是应防止数据库中存在不符合语义规定的数据和防止因错误信息的输入输出造成无效操作或错误信息而提出的
- 实体完整性
- 域完整性
- 引用完整性
- 用户自定义完整性
